(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4eebe71d"],{"27b3":function(t,e,s){},"30e9":function(t,e,s){t.exports=s.p+"img/back-icon.f3e5a7a2.svg"},"5dc8":function(t,e,s){"use strict";s("27b3")},"6ba8":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("Sidebar"),s("div",{staticClass:"follower"},[s("FollowerList",{attrs:{followers:t.followers}})],1),s("RightColumn")],1)},r=[],o=s("1da1"),n=s("5530"),i=(s("96cf"),s("5ea5")),l=s("dc59"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"follower-container"},[a("div",{staticClass:"follower-header"},[a("button",{staticClass:"back-to",attrs:{type:"button"},on:{click:function(e){return t.$router.go(-1)}}},[a("img",{staticClass:"back-icon",attrs:{src:s("30e9")}})]),a("div",{staticClass:"title"},[a("router-link",{staticClass:"name",attrs:{to:{path:"/users/"+t.id}}},[a("span",{staticClass:"name"},[t._v(t._s(t.name))])]),a("p",[t._v(t._s(t.tweetCount)+" 推文")])],1)]),a("div",{staticClass:"nav-tabs"},[a("button",{staticClass:"nav-item",class:{active:t.isActive},attrs:{type:"button"}},[a("router-link",{staticClass:"nav-link",class:{active:t.isActive},attrs:{to:{name:"user-follower",params:t.id}}},[t._v(" 跟隨者 ")])],1),a("button",{staticClass:"nav-item",attrs:{type:"button"}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"user-following",params:t.id}}},[t._v(" 正在跟隨 ")])],1)]),a("div",{staticClass:"follower-list"},t._l(t.users,(function(e){return a("div",{key:e.id,staticClass:"list-item"},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"user-avatar"},[a("router-link",{staticClass:"avatar-img",attrs:{to:{path:"/users/"+e.Followers.id}}},[a("img",{staticClass:"avatar-img",attrs:{src:e.Followers.avatar}})])],1),a("div",{staticClass:"content"},[a("router-link",{attrs:{to:{path:"/users/"+e.Followers.id}}},[a("div",{staticClass:"user-name"},[t._v(t._s(e.Followers.name))]),a("div",{staticClass:"user-accountName"},[t._v(" @"+t._s(e.Followers.account)+" ")])]),a("span",{staticClass:"introduce"},[t._v(" "+t._s(e.Followers.introduction)+" ")])],1)]),e.Followers.isFollowed?a("div",{staticClass:"toggleBtn"},[a("button",{staticClass:"following-btn",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.deleteFollow(e.Followers.id)}}},[t._v(" 正在追隨 ")])]):a("div",{staticClass:"toggleBtn"},[a("button",{staticClass:"unfollowed-btn",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.addFollow(e.Followers.id)}}},[t._v(" 追隨 ")])])])})),0)])},u=[],d=s("2909"),w=(s("b0c0"),s("4de4"),s("d3b7"),s("2f62")),f=s("1602"),v=s("604d"),p={name:"FollowerList",props:{followers:{type:Array,required:!0}},data:function(){return{id:"",name:"",tweetCount:"",isActive:!0,users:this.followers}},watch:{followers:function(t){this.users=Object(d["a"])(t)}},created:function(){var t=this.$route.params.id;this.fetchUser(t)},computed:Object(n["a"])({},Object(w["b"])(["currentUser"])),methods:{fetchUser:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,f["a"].getProfile({userId:t});case 3:return a=s.sent,r=a.data,s.next=7,r.id;case 7:e.id=s.sent,e.name=r.name,e.tweetCount=r.tweetCount,s.next=15;break;case 12:s.prev=12,s.t0=s["catch"](0),console.log(s.t0);case 15:case"end":return s.stop()}}),s,null,[[0,12]])})))()},addFollow:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(s.prev=0,e.currentUser.id!==t){s.next=4;break}return e.$bus.$emit("toast",{icon:"error",title:"不能追隨自己喔"}),s.abrupt("return");case 4:return s.next=6,v["a"].addFollow(t);case 6:a=s.sent,a.data,e.users.filter((function(e){e.Followers.id===t&&(e.Followers.isFollowed=!0)})),e.$bus.$emit("toast",{icon:"success",title:"追隨成功"}),s.next=15;break;case 12:s.prev=12,s.t0=s["catch"](0),console.log(s.t0);case 15:case"end":return s.stop()}}),s,null,[[0,12]])})))()},deleteFollow:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,v["a"].deleteFollow(t);case 3:a=s.sent,a.data,e.users.filter((function(e){e.Followers.id===t&&(e.Followers.isFollowed=!1)})),e.$bus.$emit("toast",{icon:"success",title:"取消追隨成功"}),s.next=12;break;case 9:s.prev=9,s.t0=s["catch"](0),console.log(s.t0);case 12:case"end":return s.stop()}}),s,null,[[0,9]])})))()}}},m=p,b=(s("5dc8"),s("2877")),h=Object(b["a"])(m,c,u,!1,null,"6e56f4dc",null),C=h.exports,g={name:"UserFollowers",components:{Sidebar:i["a"],RightColumn:l["a"],FollowerList:C},data:function(){return{follower:{followerId:"",followingId:"",createdAt:"",followers:{name:"",account:"",avatar:"",id:-1,introduction:""},isFollowed:!1},followers:[]}},created:function(){var t=this.$route.params.id;this.fetchFollowers(t)},computed:Object(n["a"])({},Object(w["b"])(["currentUser"])),methods:{fetchFollowers:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,f["a"].getUserFollowers(t);case 3:a=s.sent,r=a.data,e.followers=r,s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](0),console.log(s.t0);case 11:case"end":return s.stop()}}),s,null,[[0,8]])})))()}}},F=g,k=(s("fac3a"),Object(b["a"])(F,a,r,!1,null,"8ea00362",null));e["default"]=k.exports},c02a:function(t,e,s){},fac3a:function(t,e,s){"use strict";s("c02a")}}]);
//# sourceMappingURL=chunk-4eebe71d.e7c204b5.js.map